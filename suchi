#!/usr/bin/python3
# SPDX-FileCopyrightText: 2024 Satoru Homma
# SPDX-License-Identifier: BSD-3-Clause
#!/usr/bin/env python3

import sys
import statistics

def main():
    try:
        # 入力値を読み取る
        print("数値を入力する場合は改行で区切る、Ctrl+Dで終了", file=sys.stderr)
        nums = []
        for line in sys.stdin:
            line = line.strip()
            if line:
                try:
                    num = float(line)  # 数値に変換
                    nums.append(num)
                except ValueError:
                    print(f"無効な入力: {line}", file=sys.stderr)
                    sys.exit(1)  # 異常終了

        # 入力値が空の場合
        if not nums:
            print("エラー: 入力が空です", file=sys.stderr)
            sys.exit(1)

        # 元のデータは保持したまま、統計情報を計算
        mean = statistics.mean(nums)
        median = statistics.median(nums)
        stdev = statistics.stdev(nums) if len(nums) > 1 else 0
        variance = statistics.variance(nums) if len(nums) > 1 else 0

        # 結果を出力
        print(f"平均: {mean}")
        print(f"中央値: {median}")
        print(f"標準偏差: {stdev}")
        print(f"分散: {variance}")

    except Exception as e:
        print(f"エラー: {e}", file=sys.stderr)
        sys.exit(1)

if __name__ == "__main__":
    main()

